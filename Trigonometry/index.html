<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trigonometry</title>
  </head>
  <body>
    <canvas
      id="myCanvas"
      width="500px"
      height="500px"
      style="background-color: white"
    ></canvas>

    <style>
      body {
        background-color: black;
        margin: 0;
        overflow: hidden;
      }
    </style>
    <script>
      const ctx = myCanvas.getContext("2d");
      const offset = {
        x: myCanvas.width / 2,
        y: myCanvas.height / 2,
      };
      const A = { x: 0, y: 0 };
      const B = { x: 90, y: 120 };
      const C = { x: B.x, y: 0 };

      ctx.translate(offset.x, offset.y);

      document.onmousemove = (event) => {
        B.x = event.x - offset.x;
        B.y = event.y - offset.y;

        C.x = B.x;

        update();
      };

      function update() {
        ctx.clearRect(-offset.x, -offset.y, myCanvas.width, myCanvas.height);

        drawCoordinateSystem(ctx, offset);

        drawPoint(A);
        drawText("A", A);
        drawPoint(B);
        drawText("B", B);
        drawPoint(C);
        drawText("C", C);
      }

      function drawText(text, loc, color = "white") {
        ctx.beginPath();
        ctx.fillStyle = color;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.font = "bold 13px Courier";
        ctx.fillText(text, loc.x, loc.y);
      }

      function drawPoint(loc, size = 20, color = "black") {
        ctx.beginPath();
        ctx.fillStyle = color;
        ctx.arc(loc.x, loc.y, size / 2, 0, Math.PI * 2);
        ctx.fill();
      }

      function drawCoordinateSystem(ctx, offset) {
        ctx.beginPath();
        ctx.moveTo(-offset.x, 0);
        ctx.lineTo(ctx.canvas.width - offset.x, 0);
        ctx.moveTo(0, -offset.y);
        ctx.lineTo(0, ctx.canvas.height - offset.y);
        ctx.setLineDash([4, 2]);
        ctx.lineWidth = 1;
        ctx.strokeStyle = "gray";
        ctx.stroke();
        ctx.setLineDash([]);
      }
    </script>
  </body>
</html>
